window.Modals=function(){function b(a,c,d){c={close:".js-modal-close",open:".js-modal-open-"+c,openClass:"modal--is-active"};this.$modal=$("#"+a);if(!this.$modal.length)return!1;this.nodes={$parent:$("html").add("body")};this.config=$.extend(c,d);this.modalIsOpen=!1;this.$focusOnOpen=this.config.focusOnOpen?$(this.config.focusOnOpen):this.$modal;this.init()}b.prototype.init=function(){$(this.config.open).on("click",$.proxy(this.open,this));this.$modal.find(this.config.close).on("click",$.proxy(this.close,
this))};b.prototype.open=function(a){var c=!1;this.modalIsOpen||(a?a.preventDefault():c=!0,a&&a.stopPropagation&&(a.stopPropagation(),this.$activeSource=$(a.currentTarget)),this.modalIsOpen&&!c&&this.close(),this.$modal.addClass(this.config.openClass),this.nodes.$parent.addClass(this.config.openClass),this.modalIsOpen=!0,slate.a11y.trapFocus({$container:this.$modal,$elementToFocus:this.$focusOnOpen,namespace:"modal_focus"}),this.bindEvents())};b.prototype.close=function(){this.modalIsOpen&&($(document.activeElement).trigger("blur"),
this.$modal.removeClass(this.config.openClass),this.nodes.$parent.removeClass(this.config.openClass),this.modalIsOpen=!1,slate.a11y.removeTrapFocus({$container:this.$modal,namespace:"modal_focus"}),this.unbindEvents())};b.prototype.bindEvents=function(){this.nodes.$parent.on("keyup.modal",$.proxy(function(a){27===a.keyCode&&this.close()},this))};b.prototype.unbindEvents=function(){this.nodes.$parent.off(".modal")};return b}();
$(function(){var b=document.querySelector("#LoginModal"),a=document.querySelector("[data-login-field]");b&&(b=new window.Modals("LoginModal","login-modal",{focusOnOpen:"#Password"}),a.hasAttribute("data-error")&&b.open())});
