function debounce(a,c){let b;return(...d)=>{clearTimeout(b);b=setTimeout(()=>a.apply(this,d),c)}}
class SearchForm extends HTMLElement{constructor(){super();if(this.input=this.querySelector('input[type="search"]'))this.input.form.addEventListener("reset",this.onFormReset.bind(this)),this.input.addEventListener("input",debounce(a=>{this.onChange(a)},300).bind(this))}toggleResetButton(){const a=this.resetButton.classList.contains("hidden");0<this.input.value.length&&a?this.resetButton.classList.remove("hidden"):0!==this.input.value.length||a||this.resetButton.classList.add("hidden")}onChange(){}shouldResetForm(){return!document.querySelector('[aria-selected="true"] a')}onFormReset(a){a.preventDefault();
this.shouldResetForm()&&(this.input.value="",this.input.focus(),this.toggleResetButton())}}customElements.define("search-form",SearchForm);
