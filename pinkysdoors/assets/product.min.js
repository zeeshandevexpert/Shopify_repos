window.KlarnaOnsiteService=window.KlarnaOnsiteService||[];var patternSize=/([0-9]+)" x ([0-9]+)"/;function slugify(t){return t.toString().toLowerCase().replace(/\s+/g,"-").replace("-quot","").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}function changeSizeDropDown(t){var e=jQuery(".single-option-selector:eq(0)"),i=e.val();if(e.empty(),availableOptions=Shopify.optionsMap.root)for(var a=0;a<availableOptions.length;a++){for(var n="",r=availableOptions[a],o=0;o<Shopify.product.variants.length;o++){var s=Shopify.product.variants[o];if(s.available&&s.option1==r&&s.option2==jQuery(".single-option-selector:eq(1)").val()){var l=arrivalDates[s.id];if(null!=l&&(n=`<span>&nbsp;&nbsp;&nbsp;(${l})</span>`),s.option3==jQuery(".single-option-selector:eq(2)").val()){var l=arrivalDates[s.id];if(null!=l){n=`<span>&nbsp;&nbsp;&nbsp;(${l})</span>`;break}}}}if(patternSize.test(r)||""!=n){var c=jQuery("<option></option>").val(r).html(r+n);e.append(c)}else{for(var o=0;o<Shopify.product.variants.length;o++){var s=Shopify.product.variants[o];if(s.available&&s.option1==r){var l=arrivalDates[s.id];null!=l&&(n=`<span>&nbsp;&nbsp;&nbsp;(${l})</span>`)}}var c=jQuery("<option></option>").val(r).html(r+n);e.append(c)}}e.val(i)}function changeOption2DropDown(t){var e=jQuery(".single-option-selector:eq(2)"),i=e.val();e.empty();var a=jQuery(".single-option-selector:eq(0)").val();a=a.replace(/ /g,"").replace(/x/g," x ");var n=Shopify.optionsMap[a];if(n)for(var r=0;r<n.length;r++){var o=n[r];if(o=a+" / "+o,n=Shopify.optionsMap[o])for(var r=0;r<n.length;r++){var s=n[r],l=jQuery("<option></option>").val(s).html(s);e.append(l)}}-1!==jQuery.inArray(i,n)&&e.val(i),e.trigger("change"),changeSizeDropDown(t)}var Shopify=Shopify||{};function imgURL(t,e){return t.replace(/_(pico|icon|thumb|small|compact|medium|large|grande|original|1024x1024|2048x2048|master)+\./g,".").replace(/\.jpg|\.png|\.gif|\.jpeg/g,function(t){return"_"+e+t})}Shopify.optionsMap={},Shopify.updateOptionsInSelector=function(t){switch(t){case 0:var e="root",i=jQuery(".single-option-selector:eq(0)");break;case 1:var e=jQuery(".single-option-selector:eq(0)").val(),i=jQuery(".single-option-selector:eq(1)");break;case 2:var e=jQuery(".single-option-selector:eq(0)").val();e+=" / "+jQuery(".single-option-selector:eq(1)").val();var i=jQuery(".single-option-selector:eq(2)")}var a=i.val();i.empty();var n=Shopify.optionsMap[e];if(n)for(var r=0;r<n.length;r++){var o=n[r],s=jQuery("<option></option>").val(o).html(o);i.append(s)}-1!==jQuery.inArray(a,n)&&i.val(a),i.trigger("change"),changeSizeDropDown(t)},Shopify.linkOptionSelectors=function(t){for(var e=0;e<t.variants.length;e++){var i=t.variants[e];if(i.available){if(Shopify.optionsMap.root=Shopify.optionsMap.root||[],Shopify.optionsMap.root.push(i.option1),Shopify.optionsMap.root=jQuery.unique(Shopify.optionsMap.root),t.options.length>1){var a=i.option1;Shopify.optionsMap[a]=Shopify.optionsMap[a]||[],Shopify.optionsMap[a].push(i.option2),Shopify.optionsMap[a]=jQuery.unique(Shopify.optionsMap[a])}if(3===t.options.length){var a=i.option1+" / "+i.option2;Shopify.optionsMap[a]=Shopify.optionsMap[a]||[],Shopify.optionsMap[a].push(i.option3),Shopify.optionsMap[a]=jQuery.unique(Shopify.optionsMap[a])}}}Shopify.product=t,Shopify.updateOptionsInSelector(0),t.options.length>1&&Shopify.updateOptionsInSelector(1),3===t.options.length&&Shopify.updateOptionsInSelector(2),jQuery(".single-option-selector:eq(0)").change(function(){return Shopify.updateOptionsInSelector(1),3===t.options.length&&Shopify.updateOptionsInSelector(2),!0}),jQuery(".single-option-selector:eq(1)").change(function(){return 3===t.options.length&&Shopify.updateOptionsInSelector(2),!0})},theme.Product=function(){function t(t){var i=this.$container=$(t),a=i.attr("data-section-id");if(n=!1,this.settings={mediaQueryMediumUp:"screen and (min-width: 750px)",mediaQuerySmall:"screen and (max-width: 749px)",bpSmall:!1,enableHistoryState:i.data("enable-history-state")||!1,namespace:".slideshow-"+a,sectionId:a,sliderActive:!1,zoomEnabled:!1},this.selectors={addToCart:"#AddToCart-"+a,addToCartText:"#AddToCartText-"+a,errorQuantityMessage:"#error-quantity-"+a,quantity:"#Quantity-"+a,SKU:".variant-sku",variantInventory:".variant-inventory",productStatus:"[data-product-status]",originalSelectorId:"#ProductSelect-"+a,productImageWraps:".product-single__photo",productThumbImages:".product-single__thumbnail--"+a,productSlick:"#product-slick",productThumbs:".product-single__thumbnails-"+a,productThumbListItem:".product-single__thumbnails-item",productFeaturedImage:".product-featured-img",productThumbsWrapper:".thumbnails-wrapper",saleLabel:".product-price__sale-label-"+a,section:"#ProductSection-product-template",singleOptionSelector:".single-option-selector-"+a,shopifyPaymentButton:".shopify-payment-button",priceContainer:"[data-price]",regularPrice:"[data-regular-price]",salePrice:"[data-sale-price]"},this.classes={hidden:"hide",productOnSale:"price--on-sale",productUnavailable:"price--unavailable",activeClass:"active-thumb"},$(".product-single__special-order").length){var n=!0;getCookie("normalDoor")&&$(this.selectors.section).attr("data-normal-version",getCookie("normalDoor"))}if($("#ProductJson-"+a).html()){this.productSingleObject=window.currentProduct,this.settings.zoomEnabled=$(this.selectors.productImageWraps).hasClass("js-zoom-enabled"),theme.pdpShippingCalculator(),isMobile();var r=$(this.selectors.productSlick);r.on("init",function(t,e,i){theme.Popups()}),r.slick({infinite:!0,dots:!1,prevArrow:'<button type="button" class="slick-prev"><svg aria-hidden="true" focusable="false" role="presentation" class="icon-chevron-left" width="20" height="20" viewBox="0 0 284.49 498.98"><defs><style>.cls-1{fill:#231f20}</style></defs><path class="cls-1" d="M437.67 129.51a35 35 0 0 1 24.75 59.75L272.67 379l189.75 189.74a35 35 0 1 1-49.5 49.5L198.43 403.75a35 35 0 0 1 0-49.5l214.49-214.49a34.89 34.89 0 0 1 24.75-10.25z" transform="translate(-188.18 -129.51)" fill="#000000"/></svg></button>',nextArrow:'<button type="button" class="slick-next"><svg aria-hidden="true" focusable="false" role="presentation" class="icon-chevron-right" width="20" height="20" viewBox="0 0 284.49 498.98"><defs><style>.cls-1{fill:#231f20}</style></defs><path class="cls-1" d="M223.18 628.49a35 35 0 0 1-24.75-59.75L388.17 379 198.43 189.26a35 35 0 0 1 49.5-49.5l214.49 214.49a35 35 0 0 1 0 49.5L247.93 618.24a34.89 34.89 0 0 1-24.75 10.25z" transform="translate(-188.18 -129.51)" fill="#000000"/></svg></button>'}).fadeIn(),isMobile()||$(".js-zoom-enabled").each(function(){e($(this))}),$(".pdp-lifestyle-images").slick({dots:!1,arrows:!0,infinite:!0,arrows:!0,prevArrow:arrowPrev,nextArrow:arrowNext}),$(".product-single__thumbnails-item a").on("click",function(t){t.preventDefault();var e=$(this).data("slide-index");r.slick("slickGoTo",e)}),$(".select-type input").on("change",function(){if("in-stock"==$(this).val()){n=!1;var t=$("#ProductSection-product-template").attr("data-normal-version")}else{n=!0,setCookie("normalDoor",$("#ProductSection-product-template").attr("data-product-handle"));var t=$("#ProductSection-product-template").attr("data-special-version")}window.location.href=t}),this._initBreakpoints(),this._stringOverrides(),this._initVariants(),this._initImageSwitch(),this._initAddToCart(),this._setActiveThumbnail(),Shopify.duplicatedOptions=[];for(var o=0;o<this.productSingleObject.variants.length;o++){var s=this.productSingleObject.variants[o];if(s.available&&!patternSize.test(s.option1)){var l=s.option1.replace(/ /g,"").replace(/x/g," x ");Shopify.duplicatedOptions.push(l)}}Shopify.duplicatedOptions=jQuery.unique(Shopify.duplicatedOptions);var c=$(".product-form-product-template .swatch");c.sort(function(t,e){return+$(t).data("reorder-index")-+$(e).data("reorder-index")}),c.appendTo(".product-single__swatches");var p=$(".product-form-product-template .selector-wrapper");p.sort(function(t,e){return+$(t).data("reorder-index")-+$(e).data("reorder-index")}),p.appendTo(".product-single__swatches")}}function e(t){var e=$(t).data("zoom");$(t).zoom({on:"click",url:e}),$(".product-single__zoom").on("click",function(i){i.preventDefault(),$(t).zoom({url:e})})}return t.prototype=_.assignIn({},t.prototype,{_stringOverrides:function(){theme.productStrings=theme.productStrings||{},$.extend(theme.strings,theme.productStrings)},_initBreakpoints:function(){var t=this;enquire.register(this.settings.mediaQuerySmall,{match:function(){$(t.selectors.productThumbImages).length>3&&t._initThumbnailSlider(),t.settings.zoomEnabled&&$(t.selectors.productImageWraps).each(function(){(function t(e){$(e).trigger("zoom.destroy")})(this)}),t.settings.bpSmall=!0},unmatch:function(){t.settings.sliderActive&&t._destroyThumbnailSlider(),t.settings.bpSmall=!1}}),enquire.register(this.settings.mediaQueryMediumUp,{match:function(){t.settings.zoomEnabled&&$(t.selectors.productImageWraps).each(function(){e(this)})}})},_initVariants:function(){var t={$container:this.$container,enableHistoryState:this.$container.data("enable-history-state")||!1,singleOptionSelector:this.selectors.singleOptionSelector,originalSelectorId:this.selectors.originalSelectorId,product:this.productSingleObject};this.variants=new slate.Variants(t),this.$container.on("variantChange"+this.settings.namespace,this._updateAvailability.bind(this)),this.$container.on("variantImageChange"+this.settings.namespace,this._updateImages.bind(this)),this.$container.on("variantPriceChange"+this.settings.namespace,this._updatePrice.bind(this)),this.$container.on("variantSKUChange"+this.settings.namespace,this._updateSKU.bind(this))},_initImageSwitch:function(){if($(this.selectors.productThumbImages).length){var t=this;$(this.selectors.productThumbImages).on("click",function(e){e.preventDefault();var i=$(this).data("thumbnail-id");t._switchImage(i),t._setActiveThumbnail(i)}).on("keyup",t._handleImageFocus.bind(t))}},_initAddToCart:function(){var t=this,e=$(t.selectors.quantity);0!==e.length&&$(t.selectors.addToCart).on("click",function(i){var a=0>=e.val();$(t.selectors.errorQuantityMessage).toggleClass(t.classes.hidden,!a),a?(e.attr("aria-describedby","error-quantity-"+t.settings.sectionId).attr("aria-invalid",!0),$(t.selectors.errorQuantityMessage).focus(),i.preventDefault()):e.removeAttr("aria-describedby").removeAttr("aria-invalid")})},_setActiveThumbnail:function(t){void 0===t&&(t=$(this.selectors.productImageWraps+":not(.hide)",this.$container).data("image-id"));var e=$(this.selectors.productThumbListItem+":not(.slick-cloned)",this.$container),i=e.find(this.selectors.productThumbImages+"[data-thumbnail-id='"+t+"']");if($(this.selectors.productThumbImages).removeClass(this.classes.activeClass).removeAttr("aria-current"),i.addClass(this.classes.activeClass),i.attr("aria-current",!0),!e.hasClass("slick-slide"))return},_switchImage:function(t){var e=$(this.selectors.productImageWraps+"[data-image-id='"+t+"']",this.$container),i=$(this.selectors.productImageWraps+":not([data-image-id='"+t+"'])",this.$container);e.removeClass(this.classes.hidden),i.addClass(this.classes.hidden)},_handleImageFocus:function(t){t.keyCode===slate.utils.keyboardKeys.ENTER&&$(this.selectors.productFeaturedImage+":visible").focus()},_initThumbnailSlider:function(){var t={slidesToShow:4,slidesToScroll:3,infinite:!1,prevArrow:".thumbnails-slider__prev--"+this.settings.sectionId,nextArrow:".thumbnails-slider__next--"+this.settings.sectionId,responsive:[{breakpoint:321,settings:{slidesToShow:3}}]};$(this.selectors.productThumbs).slick(t),$(this.selectors.productThumbsWrapper,this.$container).find(".slick-list").removeAttr("aria-live"),$(this.selectors.productThumbsWrapper,this.$container).find(".slick-disabled").removeAttr("aria-disabled"),this.settings.sliderActive=!0},_destroyThumbnailSlider:function(){$(this.selectors.productThumbs).slick("unslick"),this.settings.sliderActive=!1,$(this.selectors.productThumbsWrapper,this.$container).find('[tabindex="-1"]').removeAttr("tabindex")},_liveRegionText:function(t){var e="[Availability] [Regular] [$$] [Sale] [$]";if(!t)return theme.strings.unavailable;var i=t.available?"":theme.strings.soldOut+",";e=e.replace("[Availability]",i);var a="",n=theme.Currency.formatMoney(t.price,theme.moneyFormat),r="",o="";return t.compare_at_price>t.price&&(a=theme.strings.regularPrice,n=theme.Currency.formatMoney(t.compare_at_price,theme.moneyFormat)+",",r=theme.strings.sale,o=theme.Currency.formatMoney(t.price,theme.moneyFormat)),theme.wholesale.isWholesale,e=e.replace("[Regular]",a).replace("[$$]",n).replace("[Sale]",r).replace("[$]",o).trim()},_updateLiveRegion:function(t){var e=t.variant,i=this.container.querySelector(this.selectors.productStatus);i.textContent=this._liveRegionText(e),i.setAttribute("aria-hidden",!1),setTimeout(function(){i.setAttribute("aria-hidden",!0)},1e3)},_updateAddToCart:function(t){var e=t.variant;if(e){if(window.currentVariant=e,$("#ProductSelect-product-template option:selected").attr("data-quantity"),$(this.selectors.addToCart).attr("data-variant-id",e.id),e.ships_in){let i=e.ships_in;i.match(/\(([^)]+)\)/g);let a=i=i.replace(/\./g,'<span class="point">.</span>').replace(/\(/g,'<span class="bracket">(</span>').replace(/\)/g,'<span class="bracket">)</span>'),n="",r="";-1!=i.indexOf("after arrival")?(a=(i=i.split("after arrival"))[0]+"after arrival",n=i[1]):-1!=i.indexOf("days")&&(a=(i=i.split("days"))[0]+"days",n=i[1]),-1!=n.indexOf("Based")&&(n=(i=n.split("Based"))[0],r="Based"+i[1]),a=a.trim(),n=n.trim(),r=r.trim(),$(".shipping-time").val(e.ships_in.replace("Ships within","")),$(".shipping-text").html(`<span>${a}</span><span>${n}</span><span>${r}</span>`)}e.available?($(this.selectors.addToCart).prop("disabled",!1),$(this.selectors.addToCartText).text(theme.strings.addToCart),$(this.selectors.shopifyPaymentButton,this.$container).show(),theme.forceVariants()):($(this.selectors.addToCart).prop("disabled",!0),$(this.selectors.addToCartText).text(theme.strings.soldOut),$(this.selectors.shopifyPaymentButton,this.$container).hide(),theme.forceVariants())}else $(this.selectors.addToCart).prop("disabled",!0),$(this.selectors.addToCartText).text(theme.strings.unavailable),theme.forceVariants();$("[data-price]").addClass("show")},_findAVariant:function(){var t="";$(".real-option-selector option:selected").each(function(e,i){0===e?t=$(this).text().trim():t+=" / "+$(this).text().trim()});var e=encodeURIComponent(t);$("#ProductSelect-product-template").show(),$('#ProductSelect-product-template option[data-title="'+e+'"]').val()},_updateAvailability:function(t){this._updateAddToCart(t),this._updateLiveRegion(t),this._updatePrice(t),this._updateStockNotice(t)},_updateStockNotice:function(t){var e=t.variant;if(e){var i=theme.getAvailableQuantity(e.id)>0?theme.getAvailableQuantity(e.id):0;$(this.selectors.addToCart).attr("data-variant-qty",i)}},_updateImages:function(t){var e=t.variant.featured_image.id;this._switchImage(e),this._setActiveThumbnail(e)},_updatePrice:function(t){if(t.variant){var e=theme.Currency.formatMoney(t.variant.price,theme.moneyFormat);$(".price-item--sale").html(e),$(".price-item--sale").attr("sale_price",theme.Currency.formatMoney(t.variant.price,theme.moneyWithCurrencyFormat))}},_updateSKU:function(t){var e=t.variant;$(this.selectors.SKU).html(e.sku)},onUnload:function(){this.$container.off(this.settings.namespace)}}),t}(),theme.pdpShippingCalculator=function(){var t,e=function(t){if(!i)return},i=!0;if(!document.getElementsByClassName("product-single__shipping-wrapper").length){e("Could not find the element");return}var a=document.getElementById("ProductSelect-product-template");if(!a){e("Could not find the main select element");return}var n=document.getElementById("shipping-response"),r=document.getElementById("shipping-country"),o=document.getElementById("shipping-state"),s=document.getElementById("shipping-zip");document.querySelector(".shipping-calc-wrapper");var l=document.querySelector(".shipping-submit"),c=function(t){var e=("; "+document.cookie).split("; "+t+"=");if(2==e.length)return e.pop().split(";").shift()},p=function(t){e("changing cart cookie value to: "+t);var i=new Date;i.setTime(i.getTime()+14*864e5);var a="; expires="+i.toGMTString();document.cookie="cart="+t+a+"; path=/"},d=function(){p(t),$(".shipping-submit").prop("disabled",!1),$(".shipping-submit .inner-txt").text("Get Rates"),$(".shipping-submit svg").fadeOut(),e(c("cart"))},u=function(t){if(n.innerHTML="",e("getRates"),void 0!==t){var i=document.getElementById("Quantity-product-template"),a=i?parseInt(i.value):1;fetch("/cart/add.js",{body:JSON.stringify({id:t,quantity:a}),credentials:"same-origin",headers:{"Content-Type":"application/json","X-Requested-With":"xmlhttprequest"},method:"POST"}).then(function(t){return t.json()}).then(function(t){e(t),$.ajax({type:"GET",url:"/cart/shipping_rates.json",data:{"shipping_address[country]":r.value,"shipping_address[province]":o.value,"shipping_address[zip]":s.value},success:function(t){t.shipping_rates&&t.shipping_rates.length&&(n.innerHTML="",$.each(t.shipping_rates,function(t,e){n.innerHTML+='<div class="flex flex--space-between"><span>'+e.name+"</span><span>"+theme.Currency.formatMoney(e.price,theme.moneyFormat)+"</span></div>"})),d()},error:function(t){d(),n.innerHTML=t.responseJSON.error},dataType:"json"})}).catch(function(t){console.error(t),d()})}};!function(){for(var i=["United States"],n=0;n<i.length;n++)r.add(new Option(i[n],i[n],0===n));for(var s=["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming","District of Columbia","Puerto Rico","Guam","American Samoa","U.S. Virgin Islands","Northern Mariana Islands"],n=0;n<s.length;n++)o.add(new Option(s[n],s[n],0===n));o.value="California",l.onclick=function(){if($(".shipping-submit svg").fadeIn(),this.disabled=!0,$(this).find(".inner-txt").text("Getting Rates..."),!a.value.length)return!1;t=c("cart");var i=i||"temp-cart-cookie___"+Date.now(),n=n||"fake-cart-cookie___"+Date.now();if(t?e("cookie found"):(e("no cookie found"),p(i),t=c("cart")),t.length<32){e("cart ID not valid");return}return p(n),e(c("cart")),u(parseInt(a.value)),!1}}()},theme.fancyStockChecks=function(t,e,i){var a={Color:"Oil Rubbed Bronze"};$("#color-option").length&&(a.Color=$("#color-option").val());var n={};$(".line-item--selector").each(function(t,e){var i=$(this);i.prev().text().trim(),i.text().trim()}),$(".item-property").each(function(t,e){n[$(e).attr("name")]=val});var r=$(".shipping-time");r.length&&""!=r.val()&&(n["Ships within"]=r.val(),a["Ships within"]=window.shippingTimeSpecial);var o=($(".product-template__container").data("product-handle"),$("#ProductSelect-product-template option:selected").text().split(" / ")),s=$("#SpecialSelect-product-template").val(),l=-1!=theme.getAvailableQuantity(e)?theme.getAvailableQuantity(e):parseInt($("#AddToCart-product-template").attr("data-variant-qty"));if(console.log(l),-1!==GlassOptions.indexOf(o[1])?a.Glass=o[1]:-1!==GlassOptions.indexOf(o[2])&&(a.Glass=o[2]),-1!==SwingOptions.indexOf(o[1])?a.Swing=o[1]:-1!==SwingOptions.indexOf(o[2])&&(a.Swing=o[2]),-1!==SwingOptions.indexOf(o[1])?a.Swing=o[1]:-1!==SwingOptions.indexOf(o[2])&&(a.Swing=o[2]),l>=i)theme.addItemWithProps(e,i,n);else if(0===l)theme.addItemWithProps(s,i,a);else{var c=i-l;theme.addItemWithProps(e,l,n);var p=setInterval(function(){!0==itemAdded&&(clearInterval(p),itemAdded=!1,theme.addItemWithProps(s,c,a))},100)}},theme.forceVariants=function(){var t="#ProductSelect-product-template",e="#AddToCart-product-template";setTimeout(function(){var i="",a=[];$(".real-option-selector option:selected").each(function(t,e){var n=$(this).val().trim();a.push($(this).val()),0===t?i=n:i+=" / "+n}),Shopify.theme.product.getVariantFromOptionArray(currentProduct,a);var n=i.replaceAll('"',"$"),r=$(t+' option[data-title="'+n+'"]').val();$(t).val(r).trigger("change");var o=$(t+" option:selected").text().split(" / ")[0];$("#SpecialSelect-product-template option:contains("+o+")").prop("selected",!0),window.location.href.split("?variant=")[0],void 0!==r&&($(e).attr("data-variant-id",r),$(e).prop("disabled",!1),$("#AddToCartText-product-template").text(theme.strings.addToCart));var s=$(t+' option[data-title="'+n+'"]').data("compare-at-price"),l=$(t+' option[data-title="'+n+'"]').data("price"),c=$(t+' option[data-title="'+n+'"]').data("quantity"),p="[data-regular-price]",c=$(t).find(":selected").data("quantity"),d=theme.getAvailableQuantity(r)>0?theme.getAvailableQuantity(r):c,u="",h="",f=l;if($(e).attr("data-variant-qty",d),theme.wholesale.isWholesale&&(s=l,l=theme.getWholesalePrice(l)),$(".variant-inventory").text(d),$(p).hasClass("product-once_in_alifetime_sale_collection-price")&&(l=.8*(s=l)),s>l){var m=!!s&&s;m?(theme.wholesale.isWholesale?(u=theme.getWholesaleDollarsSaved(f,l),h=theme.wholesale.discount):(u=m-l,h=(m-l)*100/m),$(p).html(theme.Currency.formatMoney(s,theme.moneyFormat))):$(p).html(theme.Currency.formatMoney(l,theme.moneyFormat)),$(e).attr("data-variant-qty",d),theme.wholesale.isWholesale?($(".price__sale").html("Dealer Price: "+theme.Currency.formatMoney(l,theme.moneyFormat)),$(".price__regular").html("MSRP: "+theme.Currency.formatMoney(f,theme.moneyFormat))):($(".price-item--sale").html(theme.Currency.formatMoney(l,theme.moneyFormat)),$("[data-price]").addClass("price--on-sale"),$(".price-savings--dollars").html(theme.Currency.formatMoney(u,theme.moneyFormat)),$(".price-savings--percentage").html("("+Math.round(h)+"%)"))}else theme.wholesale.isWholesale&&(l=f),$("[data-regular-price]").html(theme.Currency.formatMoney(l,theme.moneyFormat));$("[data-price]").addClass("show"),$(".affirm-price").html(theme.Currency.formatMoney(l/4,theme.moneyFormat));var g=theme.getKlarnaPrice(l);$(".klarna-price").html(theme.Currency.formatMoney(g,theme.moneyFormat)),affirm.ui.ready(function(){$(".affirm-as-low-as").attr("data-amount",l),affirm.ui.refresh()})},250)},theme.getKlarnaPrice=function(t){var e=t;return t>15e3&&(e=t/6),t>3e4&&(e=t/12),t>1e5&&(e=t/18),t>2e5&&(e=t/24),t>3e5&&(e=t/36),e},window.slate=window.slate||{},slate.Variants=function(){function t(t){this.$container=t.$container,this.product=t.product,this.singleOptionSelector=t.singleOptionSelector,this.originalSelectorId=t.originalSelectorId,this.enableHistoryState=t.enableHistoryState,this.currentVariant=this._getVariantFromOptions(),$(this.singleOptionSelector,this.$container).on("change",this._onSelectChange.bind(this))}return t.prototype=_.assignIn({},t.prototype,{_getCurrentOptions:function(){var t=_.map($(this.singleOptionSelector,this.$container),function(t){var e=$(t),i=e.attr("type"),a={};return"radio"!==i&&"checkbox"!==i?(a.value=e.val(),a.index=e.data("index"),a):!!e[0].checked&&(a.value=e.data("real-value"),a.index=e.data("index"),a)});return _.compact(t)},_getVariantFromOptions:function(){var t=this._getCurrentOptions(),e=this.product.variants;return _.find(e,function(e){return t.every(function(t){return _.isEqual(e[t.index],t.value)})})},_onSelectChange:function(){var t=this._getVariantFromOptions();if(this.$container.trigger({type:"variantChange",variant:t}),t){if(this.currentVariant=t,this._updateMasterSelect(t),this._updateSKU(t),currentVariantWeight=t.weight,currentVariantWidth=t.option1.split(" x ")[0],currentVariantHeight=t.option1.split(" x ")[1],hasArrvialDate&&($(".product-single__presale-clock__wrapper").addClass("hide"),$(".product-single__presale-clock-"+t.id).removeClass("hide")),$(".product-single__presale-clock-"+t.id).length){var e=$(".product-single__presale-clock-"+t.id).find(".presale-clock").attr("data-end-date");$("[sale_price_effective_date]").attr("sale_price_effective_date",e+"T23:59-0800")}else $("[sale_price_effective_date]").attr("sale_price_effective_date","");this.enableHistoryState&&this._updateHistoryState(t)}},_updateImages:function(t){var e=t.featured_image||{},i=this.currentVariant.featured_image||{};t.featured_image&&e.src!==i.src&&this.$container.trigger({type:"variantImageChange",variant:t})},_updatePrice:function(t){t.price!==this.currentVariant.price&&(affirm.ui.ready(function(){$(".affirm-as-low-as").attr("data-amount",t.price),affirm.ui.refresh()}),this.$container.trigger({type:"variantPriceChange",variant:t}))},_updateSKU:function(t){t.sku!==this.currentVariant.sku&&this.$container.trigger({type:"variantSKUChange",variant:t})},_updateHistoryState:function(t){if(history.replaceState&&t){var e=window.location.protocol+"//"+window.location.host+window.location.pathname+"?variant="+t.id;window.history.replaceState({path:e},"",e)}},_updateMasterSelect:function(t){$(this.originalSelectorId,this.$container).val(t.id)},_updateSpecialSelect:function(t){t&&$("#SpecialSelect-product-template option:contains("+t.title.split(" / ")[0].replace("$",'"')+")").prop("selected",!0)}}),t}(),theme.findSpecialVersion=function(t){var e={},i=["false","No Screen"],a={id:!1,quantity:!1,properties:{}};$.each(window.currentVariant.options,function(t,n){"Size"==window.currentProduct.options[0]&&0==t?i[0]=n:(e[window.currentProduct.options[t]]=n,a.properties[`${window.currentProduct.options[t]}`]=n)});var n=i.join(" / ");return console.log(n),$("#color-option").length&&(e.Color=$("#color-option").val(),a.properties.Color=$("#color-option").val()),$.each(window.specialVersion.variants,function(t,e){e.title==n&&(a.id=e.id)}),a},theme.addSpecial=function(t,e){console.log(t);var i=!1,a={},n=["false",'6" Jamb',"No Screen"],r=!1;$.each(t.options_with_values,function(t,e){"Size"==e.name?(i=e.value,n[0]=i):a[e.name]=e.value});var o=n.join(" / ");if(a.Color=t.properties.Color,console.log(n),$.each(window.specialVersion.variants,function(t,e){e.title==o&&(r=e.id,console.log(r))}),r){var s=[{quantity:e,id:r,properties:a}];$.post("/cart/add.js",{items:s},function(t){console.log(t),theme.addToCartOk()},"json").done(function(t){console.log(t),theme.addToCartOk()})}},theme.popupLinks=function(){},theme.newAddToCart=function(t){let e=$(t).find("#ProductSelect-product-template").val(),i=parseFloat($("#Quantity-product-template").val()),a=parseFloat(inv_qty[e]),n=!1;var r=[],o=0;$(".cart-ajax .cart-ajax__row").each(function(t,i){parseFloat($(i).data("variant"))==e&&(o=parseFloat($(i).find(".item-quantity__input").val()))}),a-=o,n=i-a;var s=i>a?a:i,l=JSON.parse(JSON.stringify($(t).serializeArray())),c={quantity:s,id:e,properties:{}};if($.each(l,function(t,e){if(e.name.indexOf("properties")>-1){var i=e.name.split("[")[1].split("]")[0];c.properties[i]=e.value}}),currentProduct.title.indexOf("Special Order")>-1)c.quantity=i,r.push(c);else{var p=theme.findSpecialVersion(e);0==a?p.id&&(p.quantity=i,r.push(p)):i>a?(r.push(c),p.id&&(p.quantity=n,r.push(p))):r.push(c)}console.log(r),$.post("/cart/add.js",{items:r},function(t){theme.addToCartOk()},"json").fail(function(t){theme.addToCartEnable(),console.log(t)})},$("#AddToCart-product-template").on("click",function(t){t.preventDefault(),theme.addToCartDisable();var e=document.querySelector('form[action="/cart/add"]');theme.newAddToCart(e)}),$(".regular-mfp-popup img").each(function(){}),theme.lazySections=function(){let t=Array.from(document.querySelectorAll(".section.lazy"));if("IntersectionObserver"in window){let e=new IntersectionObserver((t,i)=>{t.forEach(t=>{if(t.isIntersecting){let i=t.target,a=i.getAttribute("id");fetch(`/?section_id=${a}`).then(function(t){return t.text()}).then(function(t){console.log(i),i.innerHTML=t}).catch(function(t){console.warn("Something went wrong.",t)}),e.unobserve(i)}})});t.forEach(t=>e.observe(t))}},this.Shopify=this.Shopify||{},this.Shopify.theme=this.Shopify.theme||{},this.Shopify.theme.product=function(t){function e(t,e){return i(t),function t(e){if(Array.isArray(e)&&"object"==typeof e[0])throw Error(e+"is not a valid array of options.")}(e),t.variants.filter(function(t){return e.every(function(e,i){return t.options[i]===e})})[0]||null}function i(t){if("object"!=typeof t)throw TypeError(t+" is not an object.");if(0===Object.keys(t).length&&t.constructor===Object)throw Error(t+" is empty.")}return t.getProductJson=function t(e){return fetch("/products/"+e+".js").then(function(t){return t.json()})},t.getVariantFromId=function t(e,a){if(i(e),"number"!=typeof a)throw TypeError(a+" is not a Number.");return e.variants.filter(function(t){return t.id===a})[0]||null},t.getVariantFromSerializedArray=function t(a,n){i(a);var r,o,s,l=(r=a,o=n,i(r),function t(e){if(!Array.isArray(e))throw TypeError(e+" is not an array.");if(0===e.length)throw Error(e+" is empty.");if(e[0].hasOwnProperty("name")){if("string"!=typeof e[0].name)throw TypeError("Invalid value type passed for name of option "+e[0].name+". Value should be string.")}else throw Error(e[0]+"does not contain name key.")}(o),s=[],o.forEach(function(t){for(var e=0;e<r.options.length;e++)if(r.options[e].name.toLowerCase()===t.name.toLowerCase()){s[e]=t.value;break}}),s);return e(a,l)},t.getVariantFromOptionArray=e,t}({}),$(function(){theme.popupLinks(),"Dutch Doors"==currentProduct.type&&$("#lock-compatibility-popup .handleMain").hide(),$(".selector-box select").select2({minimumResultsForSearch:10}).css("opacity",0).on("change",function(t){}),$(".product-form .learn-more--link").each(function(t,e){$(e).text();var i=$(e).attr("href"),a=$(e).data("div"),n=$(e).data("alt-text");$(".links-below-add-button").append(`<a data-div="${a}" class="mfp-ajax" href="${i}">${n}</a>`)}),$(".mfp-inline").magnificPopup({removalDelay:300,mainClass:"mfp-with-zoom",midClick:!0,callbacks:{open:function(){}}}),$(".mfp-ajax").on("click",function(t){t.preventDefault();var e=$(this),i="#"+e.data("div"),a=e.attr("href");$.get(a,function(t){var e=$(t).find(i);console.log(e),$.magnificPopup.open({items:{src:e},type:"inline"},0)},"html")}),theme.lazySections()});