class DetailsModal extends HTMLElement{constructor(){super();this.detailsContainer=this.querySelector("details");this.summaryToggle=this.querySelector("summary");this.detailsContainer.addEventListener("keyup",a=>"ESCAPE"===a.code.toUpperCase()&&this.close());this.summaryToggle.addEventListener("click",this.onSummaryClick.bind(this));this.querySelector('button[type="button"]').addEventListener("click",this.close.bind(this));this.summaryToggle.setAttribute("role","button")}isOpen(){return this.detailsContainer.hasAttribute("open")}onSummaryClick(a){a.preventDefault();
a.target.closest("details").hasAttribute("open")?this.close():this.open(a)}onBodyClick(a){this.contains(a.target)&&!a.target.classList.contains("modal-overlay")||this.close(!1)}open(a){this.onBodyClickEvent=this.onBodyClickEvent||this.onBodyClick.bind(this);a.target.closest("details").setAttribute("open",!0);document.body.addEventListener("click",this.onBodyClickEvent);document.body.classList.add("overflow-hidden");trapFocus(this.detailsContainer.querySelector('[tabindex="-1"]'),this.detailsContainer.querySelector('input:not([type="hidden"])'))}close(a=
!0){removeTrapFocus(a?this.summaryToggle:null);this.detailsContainer.removeAttribute("open");document.body.removeEventListener("click",this.onBodyClickEvent);document.body.classList.remove("overflow-hidden")}}customElements.define("details-modal",DetailsModal);
