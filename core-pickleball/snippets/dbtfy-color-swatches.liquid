{%- comment -%}Please do not edit this file. Any modification can be lost as it is automatically updated by Debutify{%- endcomment -%}
{% if product.available and product.variants.size > 1 and settings.dbtfy_color_swatches %}
{% assign file_extension = settings.dbtfy_color_swatches_file %}
{% assign swatch_list = settings.dbtfy_color_swatches_color | split: "," %}
<div class="dbtfy dbtfy-color_swatches">
  {% for swatch in swatch_list %}
    {% assign option_index = 0 %}
    {% for option in product.options_with_values %}
      {% if option.name == swatch %}
        {% assign option_index = forloop.index0 %}
        <div class="swatch clearfix" data-option-index="{{ option_index }}">
          <div class="header">{{ option.name }}</div>
          {% for value in option.values %}
            <input id="swatch-{{ option_index }}-{{ value | handle }}"
                   class="input-color_swatches"
                   type="radio"
                   {% if option.selected_value == value %} checked{% endif %}
                   value="{{ value | escape }}"
                   data-index="{{ option_index }}"
                   name="{{ option.name | handleize }}"
                   data-section-id="{{ section.id }}">

            <div data-value="{{ value | escape }}" class="swatch-element">
              <div class="tooltip">{{ value }}</div>
              {% assign swatch_img = value | handle | append: "." | append: file_extension %}
              <label for="swatch-{{ option_index }}-{{ value | handle }}" style='background-color: {{ value | split: " " | last | handle }}; background-image: url({{ swatch_img | asset_img_url: "100x100", crop: "center" }})'></label>
            </div>
          {% endfor %}
          <style>
            #section-{{ section.id }} .product-form__item.grid__item:nth-child({{option_index | plus: 1}}){display:none;}
          </style>
        </div>
      {% endif %}
    {% endfor %}
  {% endfor %}
</div>
{% endif %}