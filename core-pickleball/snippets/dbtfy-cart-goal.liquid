{%- comment -%}Please do not edit this file. Any modification can be lost as it is automatically updated by Debutify{%- endcomment -%}
{%- if settings.dbtfy_cart_goal -%}
{% assign goal = settings.dbtfy_cart_goal_amount %}
{% assign cart_total = cart.total_price | divided_by: 100 %}
{% assign percentage_reached = cart_total | times: 100 | divided_by: goal %}
<div class="dbtfy dbtfy-cart_goal"
     data-goal-amount="{{ goal }}"
     data-before-amount-text="{{ settings.dbtfy_cart_goal_before_text }}"
     data-after-amount-text="{{ settings.dbtfy_cart_goal_after_text }}"
     data-goal-reached-text="{{ settings.dbtfy_cart_goal_reached_text }}">

  <div class="cg-wrapper" {% if cart.item_count == 0 %}style="display:none"{% endif %}>
    <div class="cg-free-shipping-text">
      {% if goal > cart_total %}
      <span>{{ settings.dbtfy_cart_goal_before_text }} <span class="cg-goal-amount">{{ goal | minus: cart_total | times: 100 | money }}</span> {{ settings.dbtfy_cart_goal_after_text }}</span>
      {% else %}
      	<span>{{ settings.dbtfy_cart_goal_reached_text }}</span>
      {% endif %}
    </div>
    <div class="cg-free-shipping-bar">
      <div class="cg-progress-bar cg-progress-bar-animated cg-progress-bar-striped" role="progressbar" style="width:{{percentage_reached}}%"></div>
      {% if settings.dbtfy_cart_goal_icon != empty %}
      <span class="cg-icon">
        <span class="fas fa-{{ settings.dbtfy_cart_goal_icon }}"></span>
      </span>
      {% endif %}
    </div>
  </div>
</div>
{%- endif -%}