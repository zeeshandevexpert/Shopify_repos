{%- comment -%}Please do not edit this file. Any modification can be lost as it is automatically updated by Debutify{%- endcomment -%}
{%- if section.blocks.size > 0 -%}

{% assign first_tab = false %}

<script src="{{ 'jquery-ui.min.js' | asset_url }}" defer="defer"></script>
<script src="{{ 'jquery.ui.autocomplete.scroll.min.js' | asset_url }}" defer="defer"></script>

<div id="FaqPage"
     data-section-id="{{ section.id }}"
     data-section-type="faq-page"
     data-sticky-header="{{settings.sticky_header}}">
  <div class="grid">
    {% if section.settings.dbtfy_faq_searchbox %}
    <div class="grid__item large--one-third push--large--one-third text-center">
      <input type="text" placeholder="{{ section.settings.dbtfy_faq_search_placeholder }}" id="FaqSearch">
    </div>
    {% endif %}

    <div class="grid__item large--eight-twelfths push--large--two-twelfths clear" >
      <!-- Blocks -->
      {% for block in section.blocks %}
        {% if block.type == "category_block" %}
      	  {% unless block.settings.dbtfy_faq_category == blank %}
          <h3 class="fp-category-title">
            {% unless block.settings.dbtfy_faq_icon == blank %}
            <span class="fas fa-{{ block.settings.dbtfy_faq_icon }} fa-fw"></span>
            {% endunless %}
            {{ block.settings.dbtfy_faq_category }}
          </h3>
          {% endunless %}
        {% else %}
          <div class="fp-item" data-question="{{ block.settings.title }}" {{ block.shopify_attributes }}>
            <div class="fp-header-wrapper fp-header-wrapper-{{ block.id }} {% if first_tab == false and section.settings.dbtfy_faq_page_first %}active{% endif %}">
              <span class="fp-header-title">{{ block.settings.title }}</span>
            </div>
            <div class="fp-content-wrapper">
              <div class="fp-content rte animated faster">
              {{ block.settings.text }}
              </div>
            </div>
          </div>
          {% assign first_tab = true %}
        {% endif %}
      {% endfor %}
    </div>

    {% if section.settings.dbtfy_faq_bannerbox %}
    <div class="grid__item large--eight-twelfths push--large--two-twelfths">
      <div class="fp-banner">
        {% unless section.settings.dbtfy_faq_banner_text == blank %}
          <h4 class="fp-banner-title">{{section.settings.dbtfy_faq_banner_text}}</h4>
        {% endunless %}
        {% unless section.settings.dbtfy_faq_btn == blank %}
        <a class="btn btn-outline-primary btn--small fp-banner-button" href="{{section.settings.dbtfy_faq_link}}">{{section.settings.dbtfy_faq_btn}}</a>
        {% endunless %}
      </div>
    </div>
    {% endif %}

  </div>
</div>
{%- endif -%}

{% schema %}
  {
    "name": "FAQ",
    "class": "faq-section dbtfy dbtfy-faq_page",
    "max_blocks": 30,
    "settings": [
      {
        "type": "header",
        "content":"Search"
	  },
	  {
        "type": "checkbox",
        "id": "dbtfy_faq_searchbox",
        "label": "Show search",
        "default": true
      },
	  {
        "type": "text",
        "id": "dbtfy_faq_search_placeholder",
        "label":"Placeholder",
		"default": "Search our questions..."
      },
	  {
        "type": "header",
        "content":"Tabs"
	  },
      {
        "type": "checkbox",
        "id": "dbtfy_faq_page_first",
        "label": "Open first question",
        "default": false
      },
	  {
        "type": "header",
        "content":"Banner"
	  },
      {
        "type": "checkbox",
        "id": "dbtfy_faq_bannerbox",
        "label": "Show banner",
        "default": true
      },
	  {
        "type": "text",
        "id": "dbtfy_faq_banner_text",
        "label":"Banner text",
		"default": "Didn't find your answer?"
      },
      {
        "type": "text",
        "id": "dbtfy_faq_btn",
        "label":"Button",
		"default": "Get in Touch"
      },
      {
        "type": "url",
        "id": "dbtfy_faq_link",
        "label":"Link"
      }
    ],
    "blocks" : [
      {
        "type": "category_block",
        "name": "Category",
        "settings": [
		  {
            "type": "header",
            "content":"Category"
     	  },
          {
            "type": "text",
            "id": "dbtfy_faq_category",
            "label":"Heading",
			"default": "Category"
		  },
          {
            "type": "text",
            "id": "dbtfy_faq_icon",
            "label":"Icon",
			"default": "question-circle",
            "info": "Enter the name of any free solid icons on [FontAwesome](https:\/\/fontawesome.com\/icons?d=gallery&s=solid&m=free)"
		  }
        ]
      },
	  {
        "type": "text_block",
        "name": "Question",
        "settings": [
		  {
            "type": "header",
            "content":"Question / Answer"
     	  },
          {
            "type": "text",
            "id": "title",
            "label":"Question",
            "default": "Question"
          },
          {
            "type": "richtext",
            "id": "text",
            "label": "Answer",
            "default":"<p>This is your answer.</p>"
          }
        ]
      }
    ]
  }
{% endschema %}